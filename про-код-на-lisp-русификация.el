;;; про-код-на-lisp-русификация.el --- Русификация LISP -*- lexical-binding: t -*-
;;; Commentary:
;;  Русификация ЛИСП
;;; Code:

(require 'установить-из)

(use-package prettify-utils
  :init (установить-из :repo "Ilazki/prettify-utils.el"))

(defun добавить-текущий-символ-в-перевод ()
  "Добавить текущий символ в перевод."
  (interactive "P"))

(require 'prettify-utils)

(defun русификация-emacs-lisp ()
  "Русификация Emacs LISP."
  (interactive)
  (setq prettify-symbols-alist (prettify-utils-generate
                               ("t" "да")
                               ("nil" "нет")
                               ("list" "список")
                               ("vector" "вектор")
                               ("setq" "дано")
                               ("setf" "даны")
                               ("setenv" "окружение")
                               ("setq-local" "локально")
                               ("setq-default" "по-умолчанию")
                               ("autoload" "автозагрузка")
                               ("symbol" "символ")
                               ("concat" "соединить")
                               ("buffer-file-name" "имя-файла-в-буфере")
                               ("find-file" "найти-файл")
                               ("message" "сообщение")
                               ("print" "печать")
                               ("add-to-list" "добавить-в-список")
                               ("if" "если")
                               ("and" "и")
                               ("or" "или")
                               ("not" "не")
                               ("eq" "равно")
                               ("when-let" "когда-дано")
                               ("while" "пока")
                               ("with" "с")
                               ("do" "делать")
                               ("cl-loop" "цикл")
                               ("for" "для")
                               ("in" "из")
                               ("collect" "собрать")
                               ("into" "в")
                               ("finally" "наконец")
                               ("dotimes" "делать-раз")
                               ("dolist" "по-списку")
                               ("car" "голова")
                               ("cdr" "хвост")
                               ("pop" "достать")
                               ("push" "засунуть")
                               ("append" "добавить")
                               ("sort" "сортировать")
                               ("max" "максимум")
                               ("equal" "равно")
                               ("intern" "символ-из-строки")
                               ("boundp" "это-определено")
                               ("fboundp" "функция-определена")
                               ("bound-and-true-p" "это-определено-и-истинно")
                               ("numberp" "это-число")
                               ("unless" "если-не")
                               ("progn" "выполнить")
                               ("defun"  "функция")
                               ("require"  "загрузить")
                               ("defvar" "переменная")
                               ("defvar-local" "локальная-переменная")
                               ("defconst" "константа")
                               ("defgroup" "группа")
                               ("defalias" "синоним")
                               ("eval" "вычислить")
                               ("eval-and-compile" "вычислить-и-скомпилить")
                               ("eval-after-load" "вычислить-после-загрузки")
                               (":name" ":имя")
                               (":class-decl" ":класс")
                               (":prototype" ":прототип")
                               (":contexts" ":контексты")
                               (":framework" ":фреймворк")
                               (":link" ":ссылка")
                               (":group" ":группа")
                               (":type" ":тип")
                               ("defcustom" "настройка")
                               ("defadvice" "обработчик")
                               ("defface" "фейс")
                               ("delete" "удалить")
                               ("mapc" "по-списку")
                               ("mapcar" "из-списка")
                               ("interactive" "интерактивная")
                               ("load-library" "загрузить-библиотеку")
                               ("cond" "выбор")
                               ("add-hook" "привязать-хук")
                               ("run-hooks" "выполнить-хуки")
                               ("error" "ошибка")
                               ("bind-keys*" "привязать-клавиши*")
                               ("global-set-key" "глобальная-клавиша")
                               ("define-key" "привязать-клавишу")
                               ("kbd" "сочетание")
                               ("provide" "предоставить")
                               ("load-path" "пути-загрузки")
                               ("file-exists-p" "файл-существует")
                               ("&optional" "&необязательный")
                               ("window-system" "графический-режим")
                               ("with-eval-after-load" "выполнить-после-загрузки")
                               ("condition-case" "выполнить-с-обработкой")
                               ("format" "формат")
                               ("get-buffer" "получить-буфер")
                               ("buffer-list" "список-буферов")
                               ("with-current-buffer" "с-текущим-буфером")
                               ("use-package"  "настройка-пакета")
                               (":init" ":запуск")
                               (":repo" ":репозитарий")
                               (":ensure" ":установить")
                               (":bind" ":клавиши")
                               (":config" ":конфигурация")
                               (":disabled" ":выключено")
                               (":after" ":после")
                               (":defer" ":отложить")
                               (":custom" ":настройки")
                               (":if" ":если")
                               (":hook" ":хуки")
                               (":map" ":раскладка")
                               (":requires" ":требует")
                               (":require" ":требует")
                               (":global" ":глобально")
                               (":defines" ":определения")
                               (":commands" ":комманды")
                               (":functions" ":функции")
                               ("current-time-string" "текущее-время-строкой")
                               ("set-language-environment" "установить-языковое-окружение")
                               ("prefer-coding-system" "предпочитать-кодировку")                                       ; выбираем, на каком диалекте байтов болтать
                               ("set-default-coding-systems" "установить-кодировки-по-умолчанию")                      ; глобально подкручиваем универсальный переводчик
                               ("set-terminal-coding-system" "установить-кодировку-терминала")                         ; учим терминал говорить без акцента
                               ("set-keyboard-coding-system" "установить-кодировку-клавиатуры")                        ; чтобы клавиатура перестала ругаться кракозябрами
                               ("set-window-margins" "установить-поля-окна")                                           ; добавляем окну уютных полей, словно рамочку
                               ("global-unset-key" "глобально-сбросить-клавишу")                                       ; «отжимаем» горячую кнопку обратно в холодильник
                               ("window-width" "ширина-окна")                                                          ; меряем форточку линейкой
                               ("window-list" "список-окон")                                                           ; каталог всех открытых форточек
                               ("minibuffer-window" "окно-минибуфера")                                                 ; крошечная дверца шептунов
                               ("toggle-truncate-lines" "переключить-перенос-строк")                                   ; сворачиваем/разворачиваем макаронину
                               ("visual-line-mode" "визуальные-строки")                                                ; оборачиваем текст так, чтоб глазкам приятно
                               ("truncate-lines" "разрывать-строки")                                                   ; коротко, но без сюрпризов в ширину
                               ("truncate-partial-width-windows" "разрывать-строки-в-разделённых-окнах")               ; когда места мало, и тексту тоже приходится худеть
                               ("longlines-show-hard-newlines" "показывать-жёсткие-переносы")                          ; выносим скрытые Enter-ы на всеобщее обозрение
                               ("line-move-visual" "перемещаться-по-визуальным-строкам")                               ; курсор шагает глазами, а не байтами
                               ("global-prettify-symbols-mode" "глобальный-режим-преображения-символов")               ; вешаем юникодовое ожерелье на код
                               ("prettify-symbols-unprettify-at-point" "показывать-оригинальные-символы-под-курсором") ; «а ну снимай макияж, курсор проверяет!»
                               ("scroll-bar-mode" "режим-полос-прокрутки")                                             ; решаем: будет ли ползунок кататься по экрану
                               ("tool-bar-mode" "режим-панели-инструментов")                                           ; показывать ли молоточки и отвёртки сверху
                               ("menu-bar-mode" "режим-панели-меню")                                                   ; «Файл-Правка-Где-моё-кофе?»
                               ("enable-recursive-minibuffers" "включить-рекурсивные-минибуферы")                      ; минибуфер внутри минибуфера — матрёшка готова
                               ("global-auto-revert-mode" "глобальный-режим-обновления")                               ; читает файл, пока ты мигаешь
                               ("global-auto-revert-non-file-buffers" "глобально-обновлять-не-файловые-буферы")        ; даже эфемерные буферы не уйдут от синхронизации
                               ("auto-revert-verbose" "авто-обновлять-молча")                                          ; чтоб обновлялось, но без громкого «пиу!»
                               ("display-buffer-alist" "список-отображения-буферов")                                   ; швейцар распределяет окна по комнатам
                               ("async-shell-command-buffer" "асинхронный-буфер-команд-оболочки")                      ; закулисный чат с шеллом
                               ("rename-buffer" "переименовать-буфер")                                                 ; программа «Смена имени» для документов
                               ("scroll-conservatively" "скроллить-консервативно")                                     ; скромно двигаем текст, не дёргая экран
                               ("goto-char" "на-символ")                                                               ; телепорт курсора по координатам
                               ("elt" "элемент")                                                                       ; вытаскиваем n-й суши-ролл из списка
                               ("assoc" "среди")                                                                       ; ищем пару, как детектив в алфавитном справочнике
                               ("with-temp-buffer" "во-временном-буфере")                                              ; мастер-класс по песочницам
                               ("string-match" "начало-подстроки")                                                     ; предсказываем будущее строки регулярками
                               ("start-process-shell-command" "запустить-процесс-в-оболочке")                          ; заводим нового шелл-хомячка
                               ("file-name-directory" "директория-файла")                                              ; узнаём, где файл прописан
                               ("locate-library" "найти-библиотеку")                                                   ; звонок другу-линкеру
                               ("funcall-interactively" "запустить-интераткивно")                                      ; вызываем функцию на сцену, под аплодисменты
                               ("erase-buffer" "очистить-буфер")                                                       ; хлоп — и доска чиста
                               ("insert-file" "вставить-файл")                                                         ; делаем файлу камео в буфере
                               ("symbolp" "это-символ")                                                                ; проверяем: тру символ или самозванец?
                               ("functionp" "это-функция")                                                             ; «эй, ты – лямбда или нет?»
                               ("length" "длина")                                                                      ; достаём виртуальную рулетку
                               ("text-properties-at" "текстовые-свойства-в")                                           ; рентген в точке курсора
                               ("replace-regexp-in-string" "заменить-регулярку-в-строке")                              ; хирургическая операция над строкой
                               ("face" "фасад")                                                                        ; наряд тексту в два клика
                               ("quote" "кавычка")                                                                     ; защита от преждевременного исполнения
                               ("remove-hook" "удалить-хук")                                                           ; снимаем крючки, чтобы ничего не дёргалось
                               ("run-with-timer" "запустить-с-таймером")                                               ; откладываем дело до звонка будильника
                               ("cancel-timer" "выключить-таймер")                                                     ; «спокойно, будильник, ложись спать»
                               ("current-column" "текущий-столбец")                                                    ; узнаём горизонтальное положение курсора в обществе
                               ("insert" "вставить")                                                                   ; телепортируем текст прямо под курсор
                               ("current-message" "текущее-сообщение")                                                 ; подслушиваем эхо minibuffer-а
                               ("string-replace" "заменить-строку")                                                    ; меняем шило на мыло без regex-магии
                               ("seq-reduce" "редукция-последовательности")                                            ; сворачиваем список до компактной таблетки
                               ("pop-to-buffer" "поднять-буфер")                                                       ; кидаем окно наверх, как корешка по руку
                               ("call-process-shell-command" "вызвать-процесс-команду-оболочки")                       ; заставляем шелл поработать без интерактива
                               ("replace-regexp" "заменить-регуляркой")                                                ; массовая хирургия строк по шаблону
                               ("with-temp-file" "во-временном-файле")                                                 ; работаем в черновике, не пачкая оригинал
                               ("match-string" "найденая-строка")                                                      ; возвращаем приз, который поймал regex
                               ("re-search-forward" "регулярка-вперёд")                                                ; вперёд за совпадениями, не оглядываясь
                               ("point-min" "точка-мин")                                                               ; самое дно буфера
                               ("insert-file-contents" "вставить-содержимое-файла")                                    ; телепортируем файл внутрь буфера
                               ("substring" "подстрока")                                                               ; вырезаем аппетитный ломтик из строки
                               ("substring-no-properties" "подстрока-без-свойств")                                     ; тот же ломтик, но похудевший от text-props
                               ("bufferp" "это-буфер")                                                                 ; проверяем, что объект действительно кусочек памяти, а не выдаёт себя
                               (":height" ":высота")
                               ("major-mode" "мажорный-мод")
                               ("alist-get" "поле-объекта")
                               ("add-face-text-property" "добавить-текстовое-свойство")
                               ("buffer-name" "имя-буфера")
                               ("current-buffer" "текущий-буфер")
                               ("buffer-live-p" "это-живой-буфер")
                               ("string-equal" "строки-равны")
                               ("selected-window" "выбранное-окно")
                               ("delete-window" "удалить-окно")
                               ("switch-to-buffer-other-window" "переключиться-на-буфер-в-другом-окне")
                               ("set-buffer" "выбрать-буфер")
                               ("visible-bell" "визуальная-сигнализация")
                               ("sleep-for"  "спать-сек")
                               ("save-restriction" "сохраняя-ограничения")
                               ("save-excursion" "сохраняя-положение")
                               ("widen" "расширить")
                               ("ignore-errors" "игнорируя-ошибки")
                               ("forward-line" "вперёд-линию")
                               ("forward-char" "вперёд-символ")
                               ("point-marker" "маркер-точки")
                               ("directory-files" "файлы-директории")
                               ("number-to-string" "число-в-строку")
                               ("funcall" "вызвать")
                               ("string-join" "объединить-строки")
                               ("time-subtract" "вычесть-время")
                               ("seconds-to-time" "секунды-во-время")
                               ("time-less-p" "время-меньше")
                               ("reverse" "обратить")
                               ("member" "есть-ли")             ; член партии списка
                               ("memq" "есть-ли-быстро")        ; быстрая (eq) проверка
                               ("mapcan" "откармливать")        ; map + append, откормим список
                               ("mapconcat" "склеить-карту")    ; соединяем с разделителем
                               ("defmacro" "макрос")            ; магия метапрограммирования
                               ("macroexpand" "макрорасширить") ; раскрываем секреты
                               ("defsubst" "подфункция")        ; (почти) инлайн-функция
                               ("plist-get" "plist-получить")
                               ("plist-put" "plist-положить")
                               ("keywordp" "это-ключевое-слово")
                               ("listp" "это-список")
                               ("consp" "это-ячейка")
                               ("vectorp" "это-вектор")
                               ("hash-table-p" "это-хэш-таблица")
                               ("nth" "энный")                ; выбираем n-й элемент, как пирожок на полке
                               ("nthcdr" "энный-хвост")       ; всё, что после n-го — хвост кометы
                               ("line-number-at-pos" "номер-строки-в-позиции") ; узнаём, где живём
                               ("buffer-substring" "строка-буфера") ; вырезаем кусочек, как торт
                               ("looking-at" "смотрим-на")    ; глазёнками вперёд
                               ("looking-back" "смотрим-назад") ; и оглядываемся, чтоб не сбить табы
                               ("upcase" "вверхний-регистр")  ; КРИЧИМ БУКВАМИ
                               ("downcase" "нижний-регистр")  ; шепчем маленькими
                               ("capitalize" "капитализировать") ; ставим шапочку первой букве
                               ("yes-or-no-p" "да-или-нет-п") ; длинный вариант «угу?»
                               ("y-or-n-p" "д-и-н-п")         ; коротко: «y/n?» – «д/н?»
                               ;; На сладкое: обновляем модельную строку силой мысли
                               ("force-mode-line-update" "заставить-линейку-обновиться")
                               ;; -- Часто встречающиеся, но ещё не одомашненные --
                               ("buffer" "буфер")             ; священный контейнер текстов
                               ("window" "окно")              ; форточка в кодовую душу
                               ("frame" "рама")               ; держит окна, как багет картину
                               ("file" "файл")                ; лежит на диске, ждёт спасителя
                               ("line" "строка")              ; тонкая нить кода
                               ("column" "столбец")           ; вертикальная опора символов
                               ("char" "символ")              ; одинокая руна
                               ("string" "строка")            ; бусики из символов
                               ("regexp" "регулярка")         ; проклятая магия поиска
                               ("match" "совпадение")         ; «угадай, где я?»
                               ("point" "точка")              ; курсор, наш герой
                               ("mark" "метка")               ; вторая точка для прыжков
                               ("region" "область")           ; пространство между точками
                               ("tab" "вкладка")              ; эластичный пробел
                               ("project" "проект")           ; всё и сразу
                               ("path" "путь")                ; дорога до файла
                               ("dir" "дир")                  ; папочка по-свойски
                               ("directory" "директория")     ; папочка официально
                               ("kill" "убить")      ;; драма-режим
                               ("yank" "вставить")            ; возвращаем убитое к жизни
                               ("save" "сохранить")           ; кладём под подушку
                               ("open" "открыть")             ; распахнуть настежь
                               ("close" "закрыть")            ; захлопнуть оконце
                               ("goto" "перейти")             ; телепортируемся
                               ("search" "поиск")             ; ищем, пока не найдём
                               ("replace" "замена")           ; меняем шило на мыло
                               ("compile" "собрать")          ; склеить, обточить, запустить
                               ("run" "запустить")            ; даём бежать
                               ("quit" "выйти")               ; «я устал, я ухожу»
                               ("help" "помощь")              ; «F1» лечит
                               ("error" "ошибка")             ; красная лампочка
                               ("warn" "предупреждение")      ; жёлтая лампочка
                               ("info" "инфо")                ; скучные факты
                               ("debug" "отладка")            ; лезем с паяльником
                               ("log" "лог")                  ; дневник событий
                               ("user" "пользователь")        ; тот самый, между стулом и клавой
                               ("system" "система")           ; всё, что выше нас
                               ("name" "имя")                 ; как тебя звать?
                               ("value" "значение")           ; чем ты богат?
                               ("data" "данные")              ; россыпь битов
                               ("index" "индекс")             ; порядковый генералиссимус
                               ("size" "размер")              ; «принтскрин» рулетки
                               ("width" "ширина")             ; горизонтальный размах
                               ("min" "минимум")              ; ниже падать некуда
                               ("first" "первый")             ; начало начал
                               ("last" "последний")           ; финальный аккорд
                               ("next" "следующий")           ; продолжение следует
                               ("previous" "предыдущий")      ; назад в прошлое
                               ("shell" "оболочка")           ; командный кокон
                               ("process" "процесс")          ; бегущий хвостик в top
                               ("input" "ввод")               ; подаём на вход
                               ("output" "вывод")             ; получаем на выход
                               ("temp" "временный")           ; живёт до перезагрузки
                               ("temporary" "временный")      ; тёзка выше
                               ("random" "случайный")         ; угадай-ка число
                               ("count" "счётчик")            ; считает овечек
                               ("loop" "бесконечно")          ; «ещё раз, и так до утра»
                               ("function" "функция")         ; коробочка с действиями
                               ("variable" "переменная")      ; коробочка с данными
                               ("argument" "аргумент")        ; что кладём в коробочку
                               ("return" "вернуть")           ; что достаём обратно
                               ("class" "класс")              ; шаблон для объектов
                               ("object" "объект")            ; экземпляр, почти живой
                               ("method" "метод")             ; функция с уважением к self
                               ("event" "событие")            ; «что-то произошло!»
                               ("state" "состояние")          ; «как ты там?»
                               ("true" "истина")              ; не поспоришь
                               ("false" "ложь")               ; ну никак
                               ;; -- Lorem-ipsum-placeholders, куда ж без них --
                               ("foo" "плюшка")               ; классическая безделушка
                               ("bar" "бар")                 ; за углом от foo
                               ("baz" "баз")                 ; третий брат
                               ("qux" "кукс")                ; «кто все эти люди?»
                               ("null" "нуль")               ; пустота взглянула в тебя
                               ("undefined" "неопределено")  ; кот Шрёдингера
                               ;; -- Дополнение: самые ходовые лисповые зверушки --
                               ("car" "голова")
                               ("cdr" "хвост") 
                               ("cons" "пришить")               ; пришиваем голову к хвосту
                               ("append" "приклеить")           ; скотч для списков
                               ("mapcar" "прокартировать")      ; map + car = любовь
                               ("mapc" "пропроходить")          ; side-effect-only вариант
                               ("maplist" "прокартировать-списки")
                               ("apply" "нанести")              ; нанести функцию на args
                               ("lambda" "лямбда")              ; греческая магия
                               ("let" "пусть")                  ; локальные переменные
                               ("let*" "пусть*")       ; зависимые «пусть»
                               ("setq" "поставить")             ; setq – поставить!
                               ("setf" "пусф")                  ; обобщённая установка
                               ("defun" "функция")              ; объявляем функцию
                               ("defvar" "переменная")          ; глобальная, но скромная
                               ("defcustom" "настройка")        ; пользователь скажет спасибо
                               ("while" "пока")                 ; крутим педали
                               ("catch" "лови")                 ; ловим исключения
                               ("throw" "бросай")               ; бросаем, чтоб поймали
                               ("condition-case" "если-условие") ; try-catch hard-style
                               ("when" "когда")                 ; if c однострочкой
                               ("unless" "если-не")             ; отрицательный if
                               ("and" "и")                      ; логическое И
                               ("or" "или")                     ; логическое ИЛИ
                               ("not" "не")                     ; отрицание
                               ("equal" "равно")                ; эквивалентность
                               ("eq" "тождество")               ; идентичность (по eq)
                               ("progn" "и-ещё")                ; делаем кучу всего
                               ("interactive" "интерактивно")   ; командно!
                               ("message" "сообщить")           ; эхо
                               ("format" "форматировать")       ; printf, но Lisp-ово
                               ("add-hook" "добавить-хук")      ; крючочки для всех
                               ("run-hooks" "дернуть-хуки")     ; момент настал
                               ("with-current-buffer" "с-буфером") ; временно переключились
                               ("with-current-buffer-window" "с-буфер-окном")
                               ("save-buffer" "сохранить-буфер")
                               ("kill-buffer" "убить-буфер")
                               ;; -- конец пополнения --
                               ))
  (prettify-symbols-mode 1))

(if window-system
    (add-hook 'emacs-lisp-mode-hook 'русификация-emacs-lisp))

(provide 'про-код-на-lisp-русификация)
;;; про-код-на-lisp-русификация.el ends here
