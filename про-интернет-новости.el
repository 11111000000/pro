;;; –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏.el --- RSS, AI –∏ –≠—Å—Ç–µ—Ç–∏–∫–∞ –Ω–æ–≤–æ—Å—Ç–Ω–æ–≥–æ –¥–Ω—è –¥–ª—è Emacs -*- lexical-binding: t -*-
;;
;; –ê–≤—Ç–æ—Ä: –ü—ë—Ç—Ä –ö–æ—Å–æ–≤ <11111000000@email.com>
;;
;; –í–µ—Ä—Å–∏—è: 4.1
;; Keywords: news, RSS, Elfeed, AI, analytics, –¥–∞–π–¥–∂–µ—Å—Ç, —ç–º–∞–∫—Å–æ–≤—â–∏–Ω–∞
;; URL: https://github.com/peterkosov/pro-news-ai
;;
;;; Commentary:
;;
;; –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç–µ Emacs –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Ä–µ–¥–∞–∫—Ü–∏—é –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–ª—è RSS/Elfeed:
;;
;;  - –í–∞—à–∏ –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ Elfeed —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä—è–º–æ –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç—å (GPTEL/AI) ‚Äî
;;    –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–∞–π–¥–∂–µ—Å—Ç–∞, –≥–ª—É–±–æ–∫–æ–≥–æ —Å–∏–Ω–æ–ø—Å–∏—Å–∞, —à—É—Ç–æ–∫, –ø–æ—ç–∑–∏–∏ –∏–ª–∏ —Å—Ç—Ä–æ–≥–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏!
;;  - –ú–∞–∫—Ä–æ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –≤—ã–ø–∏—Å–∫–∏ –∏–ª–∏ –∞–Ω–∞–ª–∏–∑–∞ (–æ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤
;;    –¥–æ "—é–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–¥–±–æ—Ä–∫–∏ IT-–Ω–æ–≤–æ—Å—Ç–µ–π").
;;  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–∏–±–∫–∞—è: –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∑–∞–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω, —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–º–∞–º, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç.
;;  - –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –≤—Ä–æ–¥–µ "–ò–Ω—Ñ–æ—Ä–∞–¥–∞—Ä", "–ì–ª—É–±–æ–∫–∏–µ —Ç—Ä–µ–Ω–¥—ã", "–Æ–º–æ—Ä–∏—Å—Ç–∏–∫–∞", "Q&A –ø–æ –Ω–æ–≤–æ—Å—Ç—è–º" —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω—ã.
;;  - –ú–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç –≤ kill-ring, —É—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–ª–∏ —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ AI!
;;
;; ------------------------------------------------------------------------------
;;   –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
;;     1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ elfeed –∏ gptel –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã.
;;     2. (require '–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏) –≤ –≤–∞—à–µ–º init.
;;     3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ ‚Äî –∏—â–∏—Ç–µ —Ç–µ, —á—Ç–æ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –Ω–∞ "–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-"!
;;
;; –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:
;;   M-x –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≤—ã–±—Ä–∞—Ç—å-–∏-–æ—Ç–ø—Ä–∞–≤–∏—Ç—å
;;
;; –õ—é–±—É—é —Å–µ–∫—Ü–∏—é –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –º–∞–∫—Ä–æ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø–æ–¥ —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏.
;;
;; ------------------------------------------------------------------------------
;;; Code:

;;;; –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

(require 'subr-x)
(require 'use-package)
(require 'cl-lib)
(require 'elfeed)
(require 'gptel)

(defgroup –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏ nil "RSS –∏ AI-–¥–∞–π–¥–∂–µ—Å—Ç –≤ Emacs." :group 'applications)

(defcustom –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ª–∞–¥–∫–∞ t
  "–ï—Å–ª–∏ t ‚Äî –≤—ã–≤–æ–¥–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (message) –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏."
  :type 'boolean
  :group '–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏)

(defcustom –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–ø—Ä–æ–º—Ç-–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é
  "–ü–æ–¥—ã—Ç–æ–∂—å –¥–µ–Ω—å: —É–±–µ—Ä–∏ –ø–æ–≤—Ç–æ—Ä—ã –∏ —Ä–µ–∫–ª–∞–º—É, –¥–∞–π –∞–Ω–∞–ª–∏—Ç–∏–∫—É –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Ç–µ–º."
  "–ë–∞–∑–æ–≤—ã–π prompt –¥–ª—è gptel –∞–Ω–∞–ª–∏–∑–∞ –Ω–æ–≤–æ—Å—Ç–µ–π."
  :type 'string :group '–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏)

(defcustom –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–º–∞–∫—Å–∏–º—É–º-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ 50
  "–ú–∞–∫—Å–∏–º—É–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –∑–∞ —Ä–∞–∑ –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç—å."
  :type 'integer :group '–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏)

(defcustom –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Ñ–∏–ª—å—Ç—Ä-—Ä–µ–≥ nil
  "–†–µ–≥—É–ª—è—Ä–∫–∞-—Ñ–∏–ª—å—Ç—Ä: —Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ—Å—Ç–∏, —á—Ç–æ –µ–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç. nil ‚Äî –≤—Å–µ."
  :type '(choice (const nil) regexp) :group '–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏)

(defcustom –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å–∫–ª—é—á–∏—Ç—å-—Å–ø–∏—Å–æ–∫
  '("–ª–∞–π—Ñ—Ö–∞–∫" "—Å–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ" "—Å–∫–∏–¥–∫–∏" "Clickbait")
  "–ò—Å–∫–ª—é—á–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ —Å —ç—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ."
  :type '(repeat string) :group '–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏)

;;;; –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–±–æ—Ä –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ chunk-–∏ –∏ —Ç–∞–π–º–µ—Ä
;;
;; –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–∞–∂–µ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–ø–∏—Å–µ–π Elfeed!
;;
;; –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–æ–ª—É—á–∏—Ç—å-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–æ–ª—É—á–∏—Ç—å-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (—Å–µ–∫—É–Ω–¥ process-chunk callback)
  "–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏, –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –°–ï–ö–£–ù–î.
PROCESS-CHUNK ‚Äî —Ñ—É–Ω–∫—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ—Ä—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π (list).
CALLBACK ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å–µ–≥–æ —Å–ø–∏—Å–∫–∞."
  (let* ((now (current-time))
         (since (time-subtract now (seconds-to-time —Å–µ–∫—É–Ω–¥)))
         (all-entries
          (if (and (boundp 'elfeed-db-entries) (hash-table-p elfeed-db-entries))
              (cl-remove-if-not
               (lambda (entry)
                 (let ((pub (seconds-to-time (elfeed-entry-date entry))))
                   (and (time-less-p since pub) (time-less-p pub now))))
               (hash-table-values elfeed-db-entries))
            nil))
         (chunk-size 200) ;; —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–π –ø–æ—Ä—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
         (head all-entries)
         (results '())
         (total (length all-entries))
         (reported 0)
         progress)
    (if (not all-entries)
        (progn
          (when –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ª–∞–¥–∫–∞
            (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏] Elfeed –±–∞–∑–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞."))
          (message "Elfeed –±–∞–∑–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞. –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ M-x elfeed."))
      (progn
        (setq progress (make-progress-reporter
                        (format "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏] –ß–∞–Ω–∫-—Å–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π: %d –≤—Å–µ–≥–æ, –ø–æ %d/—à–∞–≥" total chunk-size)
                        0 total))
        ;; –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞–Ω–∫–æ–≤
        (cl-labels
            ((next-chunk ()
               (let ((chunk (cl-subseq head 0 (min chunk-size (length head)))))
                 (setq head (nthcdr (length chunk) head))
                 (setq results (append results (funcall process-chunk chunk)))
                 (setq reported (+ reported (length chunk)))
                 (progress-reporter-update progress reported)
                 (if (and head (> (length head) 0))
                     (run-at-time 0 nil #'next-chunk)
                   (progn
                     (progress-reporter-done progress)
                     (funcall callback results))))))
          (next-chunk))))))

;;;; –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: —Ä–µ–≥—É–ª—è—Ä–∫–∞ –∏ —Å—Ç–æ–ø-—Å–ª–æ–≤–∞

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å (lst &optional regexp exclude-list)
  "–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å LST –ø–æ REGEXP –∏ EXCLUDE-LIST/–≥–ª–æ–±–∞–ª—å–Ω–æ–º—É —Å–ø–∏—Å–∫—É."
  (let* ((filtered
          (cl-remove-if
           (lambda (x)
             (or (and regexp (not (string-match-p regexp (car x))))
                 (cl-some (lambda (s) (string-match-p (regexp-quote s) (car x)))
                          (or exclude-list –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å–∫–ª—é—á–∏—Ç—å-—Å–ø–∏—Å–æ–∫))))
           lst)))
    (when –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ª–∞–¥–∫–∞
      (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏] –ü–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (%s): %d" 
               (or regexp "–≤—Å–µ") (length filtered)))
    filtered))

;;;; –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–∞–∫–µ—Ç (lst &optional max)
  (let ((take (seq-take lst (or max –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–º–∞–∫—Å–∏–º—É–º-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤))))
    (when –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ª–∞–¥–∫–∞
      (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏] –û—Å—Ç–∞–≤–ª–µ–Ω–æ –Ω–æ–≤–æ—Å—Ç–µ–π: %d" (length take)))
    take))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--—Ñ–æ—Ä–º–∞—Ç (lst &optional links)
  "–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–≤–æ—Å—Ç–µ–π: '- –ó–∞–≥–æ–ª–æ–≤–æ–∫ (URL)'."
  (mapconcat (lambda (x)
               (if links (format "- %s (%s)" (car x) (cdr x))
                 (format "- %s" (car x))))
             lst "\n"))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--prompt (–∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–æ–º–ø—Ç &optional links)
  (let ((txt (string-join
              (list
               "–í–æ—Ç —Å–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏."
               (concat "–ó–∞–¥–∞–Ω–∏–µ: " (or –ø—Ä–æ–º–ø—Ç –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–ø—Ä–æ–º—Ç-–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é))
               "---"
               (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--—Ñ–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ links))
              "\n\n")))
    (when –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ª–∞–¥–∫–∞
      (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏] –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∑–∞–ø—Ä–æ—Å –¥–ª—è GPTel: %s..."
               (substring txt 0 (min 64 (length txt)))))
    txt))

;;;; === –ù–æ–≤—ã–π –ì–ª–∞–≤–Ω—ã–π –ú–∞–∫—Ä–æ—Å-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ===

(defmacro –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π (–∏–º—è docstring &rest plist)
  "–°–æ–∑–¥–∞—ë—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –Ω–æ–≤–æ—Å—Ç–Ω—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è AI-–¥–∞–π–¥–∂–µ—Å—Ç–æ–≤ —Å –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–º —Å–±–æ—Ä–æ–º.
IM–Ø ‚Äî —Å–∏–º–≤–æ–ª –∫–æ–º–∞–Ω–¥—ã.
DOCSTRING ‚Äî —Å—Ç—Ä–æ–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (user-visible, –ù–ï —É—Ö–æ–¥–∏—Ç –≤ AI).
PLIST ‚Äî :—á–∞—Å–æ–≤ N, :–º–∞–∫—Å–∏–º—É–º M, :–ø—Ä–æ–º–ø—Ç PROMPT, :—Å—Å—ã–ª–∫–∏ T, :—Ñ–∏–ª—å—Ç—Ä REGEXP.

–ï—Å–ª–∏ :–ø—Ä–æ–º–ø—Ç –Ω–µ –∑–∞–¥–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è docstring."
  (let ((—á–∞—Å–æ–≤    (plist-get plist :—á–∞—Å–æ–≤))
        (–º–∞–∫—Å–∏–º—É–º (plist-get plist :–º–∞–∫—Å–∏–º—É–º))
        (—Å—Å—ã–ª–∫–∏   (plist-get plist :—Å—Å—ã–ª–∫–∏))
        (—Ñ–∏–ª—å—Ç—Ä   (plist-get plist :—Ñ–∏–ª—å—Ç—Ä)))
    `(defun ,–∏–º—è ()
       ,docstring
       (interactive)
       (let* ((—Å–µ–∫—É–Ω–¥ (* 3600 ,(or —á–∞—Å–æ–≤ 24)))
              (–ø—Ä–æ–º–ø—Ç (or ,(plist-get plist :–ø—Ä–æ–º–ø—Ç) ,docstring)))
         (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏] –§–æ–Ω–æ–≤–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π...")
         (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–æ–ª—É—á–∏—Ç—å-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
          —Å–µ–∫—É–Ω–¥
          (lambda (chunk)
            ;; –§–æ—Ä–º–∏—Ä—É–µ–º (–∑–∞–≥–æ–ª–æ–≤–æ–∫ . url) —Ç–æ–ª—å–∫–æ –∏–∑ –ø–æ–¥–æ—à–µ–¥—à–∏—Ö –ø–æ–¥ —Ñ–∏–ª—å—Ç—Ä
            (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å
             (mapcar (lambda (entry)
                       (cons (elfeed-entry-title entry)
                             (elfeed-entry-link entry)))
                     chunk)
             ,—Ñ–∏–ª—å—Ç—Ä))
          (lambda (–Ω–æ–≤–æ—Å—Ç–∏)
            (let ((–∏—Ç–æ–≥ (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–∞–∫–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ ,–º–∞–∫—Å–∏–º—É–º)))
              (if (null –∏—Ç–æ–≥)
                  (message "–ù–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π.")
                (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ø—Ä–∞–≤–∏—Ç—å-via-gptel –∏—Ç–æ–≥ –ø—Ä–æ–º–ø—Ç ,—Å—Å—ã–ª–∫–∏)))))))))

;;;; –ò—Å—Ç–æ—Ä–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è

(defcustom –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–ª–æ–≥-dir
  (expand-file-name "–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–ª–æ–≥/" user-emacs-directory)
  "–ü–∞–ø–∫–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
–ö–∞–∂–¥—ã–π —Å—Ä–µ–∑ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π org-—Ñ–∞–π–ª (–∏–ª–∏ plain), —Å –ø—Ä–æ–º–ø—Ç–æ–º –∏ –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏."
  :type 'directory
  :group '–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏)

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--—Å–¥–µ–ª–∞—Ç—å-–ª–æ–≥-—Ñ–∞–π–ª (&optional —Å—Ü–µ–Ω–∞—Ä–∏–π)
  "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç—å –∫ –ª–æ–≥-—Ñ–∞–π–ª—É –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è/–¥–Ω—è."
  (let* ((dir (file-name-as-directory –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–ª–æ–≥-dir))
         (scen (or —Å—Ü–µ–Ω–∞—Ä–∏–π "no-name"))
         (date (format-time-string "%Y-%m-%d"))
         (file (expand-file-name (format "%s-%s.org" scen date) dir)))
    (make-directory dir :parents)
    file))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å (–∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–æ–º–ø—Ç –æ—Ç–≤–µ—Ç &optional –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
  "–ó–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–∫—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–∑–∞–≥–æ–ª–æ–≤–∫–∏, –ø—Ä–æ–º–ø—Ç, –æ—Ç–≤–µ—Ç, meta) –≤ —Ñ–∞–π–ª –∏—Å—Ç–æ—Ä–∏–∏.
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (plists): :—Å—Ü–µ–Ω–∞—Ä–∏–π, :–≤—Ä–µ–º—è, :—Ñ–∏–ª—å—Ç—Ä, :–º–∞–∫—Å–∏–º—É–º, :—Å—Å—ã–ª–∫–∏, –∏ –¥—Ä."
  (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å] –í–•–û–î: %S %S %S %S" –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–æ–º–ø—Ç (if (> (length (or –æ—Ç–≤–µ—Ç "")) 80) (substring –æ—Ç–≤–µ—Ç 0 80) –æ—Ç–≤–µ—Ç) –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
  (let* ((—Ñ–∞–π–ª (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--—Å–¥–µ–ª–∞—Ç—å-–ª–æ–≥-—Ñ–∞–π–ª (plist-get –ø–∞—Ä–∞–º–µ—Ç—Ä—ã :—Å—Ü–µ–Ω–∞—Ä–∏–π)))
         (dt (format-time-string "%Y-%m-%d %H:%M"))
         (entry
           (concat
            (format "* –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ [%s] :scenario_%s:\n" dt (or (plist-get –ø–∞—Ä–∞–º–µ—Ç—Ä—ã :—Å—Ü–µ–Ω–∞—Ä–∏–π) ""))
            (when-let ((filt (plist-get –ø–∞—Ä–∞–º–µ—Ç—Ä—ã :—Ñ–∏–ª—å—Ç—Ä)))
              (format ":–§–∏–ª—å—Ç—Ä: %s\n" filt))
            (when-let ((mx (plist-get –ø–∞—Ä–∞–º–µ—Ç—Ä—ã :–º–∞–∫—Å–∏–º—É–º)))
              (format ":–ú–∞–∫—Å–∏–º—É–º: %s\n" mx))
            (when-let ((links (plist-get –ø–∞—Ä–∞–º–µ—Ç—Ä—ã :—Å—Å—ã–ª–∫–∏)))
              (format ":–°—Å—ã–ª–∫–∏: %s\n" links))
            (format ":Prompt:\n#+BEGIN_EXAMPLE\n%s\n#+END_EXAMPLE\n" (or –ø—Ä–æ–º–ø—Ç ""))
            (format ":–ó–∞–≥–æ–ª–æ–≤–∫–∏:\n#+BEGIN_EXAMPLE\n%s\n#+END_EXAMPLE\n"
                    (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--—Ñ–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ t))
            (format ":–û—Ç–≤–µ—Ç:\n#+BEGIN_EXAMPLE\n%s\n#+END_EXAMPLE\n"
                    (or –æ—Ç–≤–µ—Ç "–Ω–µ—Ç (–µ—â—ë –Ω–µ –ø–æ–ª—É—á–µ–Ω)"))
            "\n")))
    (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å] –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª: %s" —Ñ–∞–π–ª)
    (with-temp-buffer
      (insert entry)
      (condition-case err
          (progn
            (append-to-file (point-min) (point-max) —Ñ–∞–π–ª)
            (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å] –£–°–ü–ï–®–ù–û –∑–∞–ø–∏—Å–∞–Ω –ª–æ–≥: %s" (abbreviate-file-name —Ñ–∞–π–ª)))
        (error (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å] –û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–∞: %S" err))))
    —Ñ–∞–π–ª))

;;;; –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ gptel (–∑–∞–º–µ–Ω–∞ chatgpt-shell)

(defvar-local –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ª–æ–≥-–∫–æ–Ω—Ç–µ–∫—Å—Ç nil
  "–•—Ä–∞–Ω–∏—Ç meta –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ –ª–æ–≥ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI.")

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ø—Ä–∞–≤–∏—Ç—å-via-gptel (–∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–æ–º–ø—Ç &optional links)
  "–°–æ–∑–¥–∞—ë—Ç —á–∞—Ç-–±—É—Ñ–µ—Ä, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ AI, –ø–æ—Ç–æ–º –ª–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ log –∏—Å—Ç–æ—Ä–∏–∏ (org-—Ñ–∞–π–ª)."
  (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][–æ—Ç–ø—Ä–∞–≤–∏—Ç—å-via-gptel] –í–•–û–î: –∑–∞–≥–æ–ª–æ–≤–∫–∏=%S, –ø—Ä–æ–º–ø—Ç=%S, links=%S" –∑–∞–≥–æ–ª–æ–≤–∫–∏ (if (> (length (or –ø—Ä–æ–º–ø—Ç "")) 80) (substring –ø—Ä–æ–º–ø—Ç 0 80) –ø—Ä–æ–º–ø—Ç) links)
  (let* ((bufname (format "*gptel-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-%s*"
                          (format-time-string "%Y%m%d-%H%M%S")))
         (txt (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--prompt –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–æ–º–ø—Ç links))
         (buf (gptel bufname))
         (meta (list
                :—Å—Ü–µ–Ω–∞—Ä–∏–π (when (and (boundp 'this-command)
                                     (symbolp this-command)
                                     this-command)
                             (symbol-name this-command))
                :—Ñ–∏–ª—å—Ç—Ä –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Ñ–∏–ª—å—Ç—Ä-—Ä–µ–≥
                :–º–∞–∫—Å–∏–º—É–º –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–º–∞–∫—Å–∏–º—É–º-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
                :—Å—Å—ã–ª–∫–∏ links)))
    (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][–æ—Ç–ø—Ä–∞–≤–∏—Ç—å-via-gptel] –ù–æ–≤—ã–π –±—É—Ñ–µ—Ä: %s, meta=%S" bufname meta)
    (pop-to-buffer buf)
    (with-current-buffer buf
      ;; <---- –°–æ—Ö—Ä–∞–Ω—è–µ–º meta, —á—Ç–æ–±—ã –¥–æ–ø–æ–ª–Ω–∏—Ç—å log –ø–æ—Å–ª–µ AI-–æ—Ç–≤–µ—Ç–∞
      (setq-local –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ª–æ–≥-–∫–æ–Ω—Ç–µ–∫—Å—Ç
                  (list :–∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ :–ø—Ä–æ–º–ø—Ç –ø—Ä–æ–º–ø—Ç :meta meta))
      (goto-char (point-max))
      (insert txt "\n")
      (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][–æ—Ç–ø—Ä–∞–≤–∏—Ç—å-via-gptel] –ó–∞–ø—É—Å–∫ gptel-send (buf=%s)" bufname)
      (let ((gptel-use-context nil))
        (gptel-send)))
    (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][–æ—Ç–ø—Ä–∞–≤–∏—Ç—å-via-gptel] –ñ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç–∞ –æ—Ç –ò–ò –≤ –Ω–æ–≤–æ–º –±—É—Ñ–µ—Ä–µ...")))

;; --- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ AI-–ø—Ä–æ—Ü–µ—Å—Å–∞ (hook –≤ gptel-post-response) ---
;;; --------------------------------------------------------------------------
;;; –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–º–µ—Ç–∞–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å) ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ–º/—Å–ª–æ–≤

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--log-get-words (log-file)
  "–ò–∑–≤–ª–µ—á—å —Å–ø–∏—Å–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª–æ–≤ –∏–∑ LOG-FILE –¥–ª—è –º–µ—Ç–∞-–∞–Ω–∞–ª–∏–∑–∞."
  (when (and log-file (file-readable-p log-file))
    (with-temp-buffer
      (insert-file-contents log-file)
      (let* ((txt (buffer-string))
             (words (split-string 
                     (downcase
                      (replace-regexp-in-string "[^a-z–∞-—è—ë0-9_-]+" " " txt))
                     " +" t)))
        (delete-dups (cl-remove-if (lambda (w) (< (length w) 4)) words))))))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--log-recent-files (n &optional —Å—Ü–µ–Ω–∞—Ä–∏–π)
  "–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N –ª–æ–≥-—Ñ–∞–π–ª–æ–≤ –∏—Å—Ç–æ—Ä–∏–∏, –º–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –°–¶–ï–ù–ê–†–ò–ô."
  (let* ((lst (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–ª–æ–≥-—Ñ–∞–π–ª—ã —Å—Ü–µ–Ω–∞—Ä–∏–π))
         (sorted (sort lst (lambda (a b) (string> (cdr a) (cdr b))))))
    (mapcar #'cdr (cl-subseq sorted 0 (min n (length sorted))))))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç/–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å-–Ω–æ–≤–æ–µ (&optional current-log n-compare)
  "–°—Ä–∞–≤–Ω–∏—Ç—å CURRENT-LOG (–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π) —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ N-COMPARE (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7).
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–æ–≤—ã—Ö —Å–ª–æ–≤/—Ç–µ–º, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ (—Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Å—Ç–æ–ø-—Å–ª–æ–≤)."
  (let* ((cur-log (or current-log
                      (car (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--log-recent-files 1))))
         (prev-logs (cdr (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--log-recent-files (or n-compare 8))))
         (cur-words (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--log-get-words cur-log))
         (prev-words (delete-dups (apply #'append
                                         (mapcar #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--log-get-words prev-logs))))
         (stop '( "https" "http" "2024" "2023" "2022" "–≤–µ—Å—Ç" "–Ω–æ–≤–æ—Å—Ç" "–∑–∞–º–µ—á" "—Ä–æ—Å—Å–∏" "—Å—Å—ã–ª"
                   "–≥–ª–∞–≤–Ω" "–¥–∞—Ç–∞" "–∏–Ω—Ç–µ—Ä–Ω–µ—Ç" "–∞–Ω–∞–ª–∏–∑" "–æ—Ç–≤–µ—Ç" "–ª–æ–≥" "–¥–∞–π–¥–∂–µ—Å—Ç" "–∏–Ω—Ñ–æ" "—Ç–µ–º–∞"))
         (new-words (cl-set-difference cur-words prev-words :test #'equal)))
    (cl-remove-if (lambda (w)
                    (or (member w stop)
                        (string-match-p "^[0-9]+$" w)
                        (< (length w) 4)))
                  new-words)))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç/–∏–Ω—Ñ–æ-–º–µ—Å—Å–µ–¥–∂ (&optional cur-log n-compare)
  "–ï—Å–ª–∏ –ø–æ—è–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ —Ç–µ–º—ã ‚Äî —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ minibuffer."
  (let* ((–Ω–æ–≤—ã–µ (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç/–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å-–Ω–æ–≤–æ–µ cur-log n-compare)))
    (when (and –Ω–æ–≤—ã–µ (> (length –Ω–æ–≤—ã–µ) 0))
      (message "‚ÄºÔ∏è –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –Ω–æ–≤—ã–µ —Ç–µ–º—ã! ‚Üí %s"
               (string-join (seq-take –Ω–æ–≤—ã–µ 6) ", "))
      –Ω–æ–≤—ã–µ)))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç/ai-–æ—Ç—á–µ—Ç (&optional cur-log n-compare)
  "–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ gptel ‚Äî —á—Ç–æ –ø–æ—è–≤–∏–ª–æ—Å—å –Ω–æ–≤–æ–≥–æ, –∫–∞–∫–æ–≤ —Ç—Ä–µ–Ω–¥."
  (interactive)
  (let* ((recent (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--log-recent-files (or n-compare 8)))
         (cur-log (or cur-log (car recent)))
         (prev-logs (cdr recent)))
    (if (not cur-log)
        (message "–ù–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ –ª–æ–≥–∞ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è AI-–æ—Ç—á—ë—Ç–∞ ‚Äî –Ω–∞–∫–æ–ø–∏—Ç–µ —Ö–æ—Ç—å –æ–¥–∏–Ω log!")
      (let* ((—Å—Ç–∞—Ä–æ–µ (if prev-logs
                         (mapconcat (lambda (f) (with-temp-buffer
                                                 (insert-file-contents f)
                                                 (buffer-string)))
                                    prev-logs "\n\n---\n\n")
                       "–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö"))
             (–Ω–æ–≤–æ–µ (if (and cur-log (file-readable-p cur-log))
                        (with-temp-buffer
                          (insert-file-contents cur-log)
                          (buffer-string))
                      "–Ω–µ—Ç —Å–≤–µ–∂–∏—Ö –ª–æ–≥–æ–≤"))
             (–ø—Ä–æ–º–ø—Ç "–°—Ä–∞–≤–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –Ω–µ–¥–µ–ª–µ–π. –í—ã–¥–µ–ª–∏ –Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞, —Ç–µ–º—ã –∏ –ª–∞–∫–æ–Ω–∏—á–Ω–æ –æ–ø–∏—à–∏ –Ω–æ–≤—ã–µ —Ç—Ä–µ–Ω–¥—ã –∏ —Ä–∏—Å–∫–∏."))
        (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ø—Ä–∞–≤–∏—Ç—å-via-gptel
         `(("–ù–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞" . "")
           ("–°—Ç–∞—Ä—ã–µ –æ—Ç—á–µ—Ç—ã:" . ""))
         (concat –ø—Ä–æ–º–ø—Ç
                 "\n---\n–°–≤–µ–∂–∏–π –ª–æ–≥:\n" –Ω–æ–≤–æ–µ
                 "\n---\n–õ–æ–≥–∏ –ø—Ä–æ—à–ª—ã—Ö –¥–Ω–µ–π:\n" —Å—Ç–∞—Ä–æ–µ))))))

;;; --- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å post-response –ª–æ–≥–≥–µ—Ä–æ–º ---

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--after-ai (beg end)
  "–õ–æ–≥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–∫–ª–∏–∫–∞ AI –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
BEG –∏ END ‚Äî –ø–æ–∑–∏—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ –≤ –±—É—Ñ–µ—Ä–µ."
  (let ((response (buffer-substring-no-properties beg end)))
    (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][after-ai] –í—ã–∑–≤–∞–Ω–∞ post-response-—Ñ—É–Ω–∫—Ü–∏—è: response (head):%s, beg=%S end=%S"
             (if (> (length response) 80) (substring response 0 80) response)
             beg end)
    (when (and (boundp '–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ª–æ–≥-–∫–æ–Ω—Ç–µ–∫—Å—Ç)
               –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ª–æ–≥-–∫–æ–Ω—Ç–µ–∫—Å—Ç)
      (let* ((params –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ª–æ–≥-–∫–æ–Ω—Ç–µ–∫—Å—Ç)
             (–∑–∞–≥–æ–ª–æ–≤–∫–∏ (plist-get params :–∑–∞–≥–æ–ª–æ–≤–∫–∏))
             (–ø—Ä–æ–º–ø—Ç (plist-get params :–ø—Ä–æ–º–ø—Ç))
             (meta (plist-get params :meta))
             (–æ—Ç–≤–µ—Ç response))
        (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][after-ai] –ì–æ—Ç–æ–≤ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å: headers=%S, prompt=%S, –æ—Ç–≤–µ—Ç head=%s, meta=%S"
                 –∑–∞–≥–æ–ª–æ–≤–∫–∏ (if (> (length (or –ø—Ä–æ–º–ø—Ç "")) 80) (substring –ø—Ä–æ–º–ø—Ç 0 80) –ø—Ä–æ–º–ø—Ç)
                 (if (> (length (or –æ—Ç–≤–µ—Ç "")) 80) (substring –æ—Ç–≤–µ—Ç 0 80) –æ—Ç–≤–µ—Ç)
                 meta)
        (let ((log-file (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–æ–º–ø—Ç –æ—Ç–≤–µ—Ç meta)))
          (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏][after-ai] –õ–æ–≥-—Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω: %S" log-file)
          (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç/–∏–Ω—Ñ–æ-–º–µ—Å—Å–µ–¥–∂ log-file 7)
          (setq-local –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ª–æ–≥-–∫–æ–Ω—Ç–µ–∫—Å—Ç nil)))))) 


(add-hook 'gptel-post-response-functions #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--after-ai)

;;; ---------------------
;;; –ú–µ–Ω—é: –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–º–µ–Ω—é-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç ()
  "–ú–µ–Ω—é –∞–Ω–∞–ª–∏–∑–∞ –Ω–æ–≤—ã—Ö —Ç–µ–º: –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏."
  (interactive)
  (let* ((opts '("–ü–æ–∫–∞–∑–∞—Ç—å –Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞/—Ç–µ–º—ã (–∑–∞ –Ω–µ–¥–µ–ª—é)"
                 "AI-–æ—Ç—á–µ—Ç –ø–æ —Å–≤–µ–∂–∏–º –æ—Ç–ª–∏—á–∏—è–º"
                 "–í—ã—Ö–æ–¥"))
         (choice (completing-read "–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ ‚Äî —á—Ç–æ —Å–¥–µ–ª–∞—Ç—å? " opts nil t)))
    (cond
     ((string= choice "–ü–æ–∫–∞–∑–∞—Ç—å –Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞/—Ç–µ–º—ã (–∑–∞ –Ω–µ–¥–µ–ª—é)")
      (let ((lst (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç/–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å-–Ω–æ–≤–æ–µ nil 7)))
        (if lst
            (message "‚ÄºÔ∏è –ù–æ–≤—ã–µ —Ç–µ–º—ã: %s" (string-join lst ", "))
          (message "–ù–µ—Ç –Ω–æ–≤—ã—Ö —Ç–µ–º!"))))
     ((string= choice "AI-–æ—Ç—á–µ—Ç –ø–æ —Å–≤–µ–∂–∏–º –æ—Ç–ª–∏—á–∏—è–º")
      (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç/ai-–æ—Ç—á–µ—Ç))
     (t (message "–û—Ç–º–µ–Ω–µ–Ω–æ.")))))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–º–µ–Ω—é ()
  "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é: –ø—Ä–æ—Å—Ç–æ–µ, –Ω–∞–¥—ë–∂–Ω–æ–µ, —Å–æ—Å—Ç–æ–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤."
  (interactive)
  (let* ((cmds (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–≤—Å–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-menu-list))
         (labels (mapcar #'car cmds))
         (choice (completing-read "–ü—Ä–æ-–ù–æ–≤–æ—Å—Ç–∏: –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Üí " labels nil t))
         (fun (cdr (assoc choice cmds))))
    (if fun
        (call-interactively fun)
      (message "‚è∏Ô∏è –≠—Ç–æ –Ω–µ –∫–æ–º–∞–Ω–¥–∞, –∞ —Ä–∞–∑–¥–µ–ª –º–µ–Ω—é."))))



;;;; ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
;;;; –ì–æ—Ç–æ–≤—ã–µ –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–º–∞–∫—Ä–æ–∫–æ–º–∞–Ω–¥—ã –Ω–∞ –æ–¥–∏–Ω –∫–ª–∏–∫)
;;;; ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

;; –í—Å—ë, —á—Ç–æ –Ω–∏–∂–µ ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ AI-—Å—Ü–µ–Ω–∞—Ä–∏–∏! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ —Å–≤–æ–π clone.

(–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π
 –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∑–∞-—á–∞—Å
  "–ë—ã—Å—Ç—Ä—ã–π –¥–∞–π–¥–∂–µ—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ 1 —á–∞—Å (–¥–æ 25 —à—Ç—É–∫)."
  :—á–∞—Å–æ–≤ 1 :–º–∞–∫—Å–∏–º—É–º 25
  :–ø—Ä–æ–º–ø—Ç "–ö—Ä–∞—Ç–∫–æ –∏–∑–ª–æ–∂–∏ –≤—Å—ë –ø–æ —Ç–µ–º–∞–º. –ï—Å–ª–∏ –µ—Å—Ç—å –≤–µ—Å—ë–ª–æ–µ ‚Äî –æ—Ç–º–µ—Ç—å. –ï—Å–ª–∏ —á—É–≤—Å—Ç–≤—É–µ—Ç—Å—è —Ç—Ä–µ–Ω–¥ ‚Äî –∫—Ä–∞—Ç–∫–æ –ø–æ–¥—á–µ—Ä–∫–Ω–∏.")

(–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π
 –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∑–∞-–¥–µ–Ω—å
  "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –æ–±–∑–æ—Ä –∑–∞ 12 —á–∞—Å–æ–≤ (–¥–æ 40)."
  :—á–∞—Å–æ–≤ 12 :–º–∞–∫—Å–∏–º—É–º 40
  :–ø—Ä–æ–º–ø—Ç "–°–¥–µ–ª–∞–π –æ–±–∑–æ—Ä –±–µ–∑ –≤–æ–¥—ã, –±–µ–∑ –¥—É–±–ª–µ–π ‚Äî —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ –∏ –Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è. –ö—Ä–∞—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ç–æ–ª—å–∫–æ —Å—É—Ç—å –∏ –æ–±—â–∏–π –≤—ã–≤–æ–¥.")

(–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π
 –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Ñ–∏–Ω–∞–Ω—Å—ã
  "–í—Å–µ —Å–≤–µ–∂–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ —Å—É—Ç–∫–∏."
  :—á–∞—Å–æ–≤ 24 :–º–∞–∫—Å–∏–º—É–º 30
  :–ø—Ä–æ–º–ø—Ç "–°–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä—É–π—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∫—Ä—É–ø–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤, –±–∞–Ω–∫–æ–≤, –±–∏—Ä–∂, –∫—Ä–∏–ø—Ç–æ –∏ –º–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏–∫–∏. –ò–∑–ª–æ–∂–∏ —Å—Ç—Ä–æ–≥–æ, –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ."
  :—Ñ–∏–ª—å—Ç—Ä "—Ñ–∏–Ω–∞–Ω—Å\\|–±–∞–Ω–∫\\|–±–∏—Ä–∂\\|—ç–∫–æ–Ω–æ–º\\|–∫—Ä–∏–ø—Ç")

(–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π
 –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≥–∏–∫
  "–ê–π—Ç–∏/–Ω–∞—É–∫–∞/—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ ‚Äî –ø–æ–ª–Ω—ã–π –≥–∏–∫-–¥–∞–π–¥–∂–µ—Å—Ç –∑–∞ 24—á."
  :—á–∞—Å–æ–≤ 24 :–º–∞–∫—Å–∏–º—É–º 40 :—Å—Å—ã–ª–∫–∏ t
  :–ø—Ä–æ–º–ø—Ç "–í—ã–±–µ—Ä–∏ —Ç–æ–ª—å–∫–æ –Ω–∞—É—á–Ω—ã–µ, IT, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏–ª–∏ Linux/AI –Ω–æ–≤–æ—Å—Ç–∏. –ï—Å–ª–∏ –µ—Å—Ç—å –∑–Ω–∞—á–∏–º—ã–µ –∞–Ω–æ–Ω—Å—ã/—Å–æ—Ñ—Ç ‚Äî –≤—ã–¥–µ–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ."
  :—Ñ–∏–ª—å—Ç—Ä "–ò–ò\\|AI\\|—Ç–µ—Ö–Ω–æ–ª\\|–Ω–∞—É–∫\\|—Ä–∞–∑—Ä–∞–±–æ—Ç–∫\\|Linux\\|–∞–ª–≥–æ—Ä–∏—Ç–º\\|–≥–∞–¥–∂–µ—Ç")

(–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π
 –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∫—Ä–∞—Ç–∫–æ
  "AI-–∫–æ–º–ø–∞–∫—Ç: —Ç–æ–ø-5 —Å–æ–±—ã—Ç–∏–π –¥–Ω—è ‚Äî —Å—Ä–∞–∑—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ."
  :—á–∞—Å–æ–≤ 24 :–º–∞–∫—Å–∏–º—É–º 30
  :–ø—Ä–æ–º–ø—Ç "–ö—Ä–∞—Ç–∫–æ –∏ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ: –≤—ã–±–µ—Ä–∏ 4-6 –≥–ª–∞–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è –¥–Ω—è, –Ω–∞ –∫–∞–∂–¥–æ–µ –¥–∞–π 1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ—è—Å–Ω–µ–Ω–∏—è. –ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥ ‚Äî —Ç—Ä–µ–Ω–¥ –¥–Ω—è.")

;; ‚Äî‚Äî‚Äî –ù–æ–≤–æ–µ: "–ò–ù–§–û–†–ú–ê–¶–ò–û–ù–ù–´–ô –†–ê–î–ê–†" ‚Äî —Ç–µ–º/—Ç—Ä–µ–Ω–¥–æ–≤ ‚Äî‚Äî‚Äî
(–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π
 –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Ç–µ–º—ã-—Ä–∞–¥–∞—Ä–∞
  "–û—Ç—á—ë—Ç –ø–æ –≥–æ—Ä—è—á–∏–º —Ç–µ–º–∞–º –∏ –∏–Ω—Ñ–æ–ø–æ–≤–æ–¥–∞–º –≤ RSS –∑–∞ 24 —á–∞—Å–∞."
  :—á–∞—Å–æ–≤ 24 :–º–∞–∫—Å–∏–º—É–º 60
  :–ø—Ä–æ–º–ø—Ç "–í—ã–¥–µ–ª–∏ –≤—Å–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∏–ª–∏ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è —Ç–µ–º—ã, —É–ø–æ—Ä—è–¥–æ—á–∏ –∏—Ö –ø–æ —á–∞—Å—Ç–æ—Ç–µ. –ü–æ–∫–∞–∂–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ ‚Äî –∫–æ—Ä–æ—Ç–∫–æ —Å—É—Ç—å, –∫—Ç–æ —É—á–∞—Å—Ç–≤—É–µ—Ç, –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ.")

;; ‚Äî‚Äî‚Äî –ï—â—ë: Q&A –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –ª–µ–Ω—Ç ‚Äî‚Äî‚Äî
(–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π
 –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≤–æ–ø—Ä–æ—Å—ã-–æ—Ç–≤–µ—Ç—ã
  "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ –Ω–æ–≤–æ—Å—Ç—è–º —Å—É—Ç–æ–∫."
  :—á–∞—Å–æ–≤ 24 :–º–∞–∫—Å–∏–º—É–º 30
  :–ø—Ä–æ–º–ø—Ç "–î–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ—Å—Ç–∏ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å (—á—Ç–æ, –∫—Ç–æ, –ø–æ—á–µ–º—É). –°—Ä–∞–∑—É –¥–∞–π –∫—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∏ —Ç—Ä–µ–Ω–¥–µ. –ö—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É.")

;; ‚Äî‚Äî‚Äî –Æ–º–æ—Ä: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–µ—Å–µ–ª–æ–≥–æ AI-–¥–∞–π–¥–∂–µ—Å—Ç–∞ ‚Äî‚Äî‚Äî
(–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π
 –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—é–º–æ—Ä
  "–ü–æ–ø—Ä–æ–±—É–π –æ–±–µ—Ä–Ω—É—Ç—å —Å–æ–±—ã—Ç–∏—è –¥–Ω—è –≤ –∏—Ä–æ–Ω–∏—á–Ω—ã–π –∏–ª–∏ —é–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –¥–∞–π–¥–∂–µ—Å—Ç."
  :—á–∞—Å–æ–≤ 24 :–º–∞–∫—Å–∏–º—É–º 30
  :–ø—Ä–æ–º–ø—Ç "–°–æ—Å—Ç–∞–≤—å —é–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –¥–∞–π–¥–∂–µ—Å—Ç: –ø–µ—Ä–µ—Å–∫–∞–∂–∏ –Ω–æ–≤–æ—Å—Ç–∏ –¥–Ω—è —Å –ª—ë–≥–∫–æ–π –∏—Ä–æ–Ω–∏–µ–π, –ø–æ–¥–±—Ä–æ—Å—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–º–µ—à–Ω–æ–π –≤—ã–≤–æ–¥ –∏–ª–∏ –º–µ–º, –Ω–æ –Ω–µ —Ç–µ—Ä—è–π —Å—É—Ç–∏ —Å–æ–±—ã—Ç–∏–π.")

;; ‚Äî‚Äî‚Äî –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑: —Ä–µ–∑—é–º–∏—Ä—É–π —Å–∫—Ä—ã—Ç—ã–µ —Ç—Ä–µ–Ω–¥—ã –∏ —Å–≤—è–∑–∏ ‚Äî‚Äî‚Äî
(–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π
 –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≥–ª—É–±–æ–∫–æ
  "AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞: –¥–∞–π –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ —Å–≤—è–∑–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 2 —Å—É—Ç–æ–∫."
  :—á–∞—Å–æ–≤ 48 :–º–∞–∫—Å–∏–º—É–º 60
  :–ø—Ä–æ–º–ø—Ç "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏: –Ω–∞–π–¥–∏ —Å–∫—Ä—ã—Ç—ã–µ —Ç—Ä–µ–Ω–¥—ã, –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Ç–µ–º—ã, –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–æ–±—ã—Ç–∏—è–º–∏. –ö—Ä–∞—Ç–∫–æ —Å–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–π –∫–∞–∫ —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ —Ç–µ–º –≤ –±–ª–∏–∂–∞–π—à–∏–µ –¥–Ω–∏/–Ω–µ–¥–µ–ª–∏.")

;;;; –î–æ–±–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ –∂–µ–ª–∞–Ω–∏—é ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –º–∞–∫—Ä–æ—Å –≤—ã—à–µ!

;;;; –ú–µ–≥–∞-—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ (–≤–≤–æ–¥ —Ñ–∏–ª—å—Ç—Ä–∞, –ø—Ä–æ–º–ø—Ç–∞, –≤—Ä–µ–º–µ–Ω–∏)

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≤—ã–±—Ä–∞—Ç—å-–∏-–æ—Ç–ø—Ä–∞–≤–∏—Ç—å (—á–∞—Å–æ–≤ regexp –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ–º–ø—Ç links)
  "–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å–æ–±—Ä–∞—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ gptel.
 - –ß–ê–°–û–í –Ω–∞–∑–∞–¥,
 - REGEXP (—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ \"\" = –≤—Å–µ),
 - –ú–ê–ö–°–ò–ú–£–ú,
 - –ü–†–û–ú–ü–¢ (AI-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è),
 - LINKS (—Å—Å—ã–ª–∫–∏ –∏–ª–∏ –Ω–µ—Ç)."
  (interactive
   (list (read-number "–ß–∞—Å–æ–≤ –Ω–∞–∑–∞–¥: " 24)
         (read-string "–§–∏–ª—å—Ç—Ä (regexp, –ø—É—Å—Ç–æ = –≤—Å–µ): " "")
         (read-number "–ú–∞–∫—Å–∏–º—É–º –Ω–æ–≤–æ—Å—Ç–µ–π: " 30)
         (read-string "–ü—Ä–æ–º–ø—Ç –¥–ª—è AI (Enter ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç): ")
         (y-or-n-p "–í–∫–ª—é—á–∏—Ç—å —Å—Å—ã–ª–∫–∏? ")))
  (let* ((—Å–µ–∫—É–Ω–¥ (* 3600 —á–∞—Å–æ–≤))
         (—Ñ–∏–ª—å—Ç (if (string-empty-p regexp) nil regexp))
         (ai-–ø—Ä–æ–º–ø—Ç (unless (string-empty-p –ø—Ä–æ–º–ø—Ç) –ø—Ä–æ–º–ø—Ç)))
    (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏] –§–æ–Ω–æ–≤–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è...")
    (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–æ–ª—É—á–∏—Ç—å-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
     —Å–µ–∫—É–Ω–¥
     (lambda (chunk)
       ;; —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ regexp/–∏—Å–∫–ª—é—á–µ–Ω–∏—è–º
       (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å
        (mapcar (lambda (entry)
                  (cons (elfeed-entry-title entry)
                        (elfeed-entry-link entry)))
                chunk)
        —Ñ–∏–ª—å—Ç))
     (lambda (–Ω–æ–≤–æ—Å—Ç–∏)
       (let ((–∏—Ç–æ–≥ (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–∞–∫–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –º–∞–∫—Å–∏–º—É–º)))
         (if (null –∏—Ç–æ–≥)
             (message "–ù–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π.")
           (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ø—Ä–∞–≤–∏—Ç—å-via-gptel –∏—Ç–æ–≥ ai-–ø—Ä–æ–º–ø—Ç links)))))))

;;;; == –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ò—Å—Ç–æ—Ä–∏–∏ –ê–Ω–∞–ª–∏—Ç–∏–∫–∏ ==

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–ª–æ–≥-—Ñ–∞–π–ª—ã (&optional only-scen)
  "–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤ –∏—Å—Ç–æ—Ä–∏–∏ (–º–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–µ–º).
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç alist: (\"–°–¶–ï–ù–ê–†–ò–ô | –î–ê–¢–ê\" . file)."
  (let* ((dir (file-name-as-directory –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–ª–æ–≥-dir))
         (files (when (file-directory-p dir)
                  (directory-files dir t "\\.org\\'"))))
    (cl-loop for f in files
             when (string-match "\\([^/]+\\)-\\([0-9][0-9][0-9][0-9]-[0-9]+-[0-9]+\\)\\.org\\'" f)
             for scen = (match-string 1 f)
             for date = (match-string 2 f)
             if (or (not only-scen) (string= only-scen scen))
             collect (cons (format "%s | %s" scen date) f))))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–≤—ã–±—Ä–∞—Ç—å ()
  "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∏ –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –∏—Å—Ç–æ—Ä–∏–∏ –∞–Ω–∞–ª–∏–∑–∞.
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ä–µ–∑–æ–≤, –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤ –Ω–æ–≤–æ–º –±—É—Ñ–µ—Ä–µ."
  (interactive)
  (let* ((lst (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–ª–æ–≥-—Ñ–∞–π–ª—ã))
         (choice (completing-read "–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–≥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: " (mapcar #'car lst) nil t)))
    (when-let ((file (cdr (assoc choice lst))))
      (find-file file)
      (message "–û—Ç–∫—Ä—ã—Ç: %s" (abbreviate-file-name file)))))
      
(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–ø–æ—Å–ª–µ–¥–Ω–∏–µ (n)
  "–û—Ç–∫—Ä—ã—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π N –ª–æ–≥–æ–≤ –∏—Å—Ç–æ—Ä–∏–∏ (—á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤, —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –¥–∞—Ç–µ/–∏–º–µ–Ω–∏)."
  (interactive "n–°–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤ –ø–æ–∫–∞–∑–∞—Ç—å: ")
  (let* ((lst (sort (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–ª–æ–≥-—Ñ–∞–π–ª—ã)
                    (lambda (a b) (string> (cdr a) (cdr b)))))
         (sel (cl-subseq lst 0 (min n (length lst)))))
    (dolist (x sel)
      (find-file-other-window (cdr x))
      (message "–û—Ç–∫—Ä—ã—Ç: %s" (car x)))))
    
(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/diff ()
  "–°—Ä–∞–≤–Ω–∏—Ç—å –¥–≤–∞ –ª–æ–≥–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–≤—ã–±—Ä–∞—Ç—å –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏, –æ—Ç–∫—Ä—ã—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π diff)."
  (interactive)
  (let* ((lst (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–ª–æ–≥-—Ñ–∞–π–ª—ã))
         (lst-names (mapcar #'car lst))
         (a (cdr (assoc (completing-read "–ü–µ—Ä–≤—ã–π –ª–æ–≥ (—Å—Ç–∞—Ä—ã–π): " lst-names nil t) lst)))
         (b (cdr (assoc (completing-read "–í—Ç–æ—Ä–æ–π –ª–æ–≥ (—Å–≤–µ–∂–∏–π): " lst-names nil t) lst))))
    (when (and a b (file-exists-p a) (file-exists-p b))
      (ediff-files a b))))

;;; --- –ö–∞—Ä—Ç–∞ —Å–æ-–≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è —Ç–µ–º (semantic network) ---

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–∏–∑–≤–ª–µ—á—å-—Ç–æ–ø-—Ç–µ–º—ã (log-file &optional top-n)
  "–ò–∑–≤–ª–µ—á—å TOP-N —á–∞—Å—Ç—ã—Ö —Å–ª–æ–≤–æ—Å–æ—á–µ—Ç–∞–Ω–∏–π (—Ç–µ–º) –∏–∑ –ª–æ–≥-—Ñ–∞–π–ª–∞ LOG-FILE."
  (when (and log-file (file-readable-p log-file))
    (with-temp-buffer
      (insert-file-contents log-file)
      (let* ((txt (buffer-string))
             ;; –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π n-–≥—Ä–∞–º –∏–∑–≤–ª–µ–∫–∞—Ç–æ—Ä (–º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏—Ç—å)
             (words (split-string
                     (downcase (replace-regexp-in-string "[^a-z–∞-—è—ë0-9_-]+" " " txt))
                     " +" t))
             (bigrams (cl-loop for (a b) on words
                               when b collect (format "%s %s" a b)))
             (freq (make-hash-table :test #'equal)))
        (dolist (bg bigrams)
          (puthash bg (1+ (gethash bg freq 0)) freq))
        (mapcar #'car
                (seq-take (sort (hash-table-keys freq)
                                (lambda (x y)
                                  (> (gethash x freq 0) (gethash y freq 0))))
                          (or top-n 15)))))))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/–ø–æ—Å—Ç—Ä–æ–∏—Ç—å-–∫–∞—Ä—Ç—É (log-files &optional minfreq)
  "–°—Ç—Ä–æ–∏—Ç –∫–∞—Ä—Ç—É —Ç–µ–º: (—Ç–µ–º–∞ . (—Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã —á–∞—Å—Ç–æ—Ç–∞ ...)), –∞–Ω–∞–ª–∏–∑–∏—Ä—É—è LOG-FILES."
  (let ((net (make-hash-table :test #'equal))
        (all-bigrams '()))
    (dolist (f log-files)
      (let ((bigrams (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–∏–∑–≤–ª–µ—á—å-—Ç–æ–ø-—Ç–µ–º—ã f 50)))
        (setq all-bigrams (append all-bigrams bigrams))))
    (dolist (bg all-bigrams)
      (let ((pair (split-string bg " " t)))
        (when (= (length pair) 2)
          (let ((a (car pair)) (b (cadr pair)))
            (puthash a (cons b (gethash a net)) net)))))
    ;; –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ —Å–≤—è–∑–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–µ—á–∞–ª–∏—Å—å —á–∞—â–µ minfreq
    (let ((result '()))
      (maphash (lambda (k v)
                 (let* ((c (cl-count-if (lambda (x) (member x v)) v))
                        (uniq (delete-dups v)))
                   (when (or (null minfreq) (> (length uniq) (or minfreq 1)))
                     (push (cons k uniq) result))))
               net)
      result)))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/org-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (map)
  "–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É —Ç–µ–º (MAP, alist) –≤ org-table –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏/—ç–∫—Å–ø–æ—Ä—Ç–∞."
  (let ((lines '("| –¢–µ–º–∞ | –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã |")))
    (dolist (cell map)
      (push (format "| %s | %s |"
                    (car cell)
                    (string-join (cl-subseq (cdr cell) 0 (min 6 (length (cdr cell)))) ", "))
            lines))
    (string-join (nreverse lines) "\n")))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/–ø–æ–∫–∞–∑–∞—Ç—å-–∫–∞—Ä—Ç—É (&optional days)
  "–ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç—É —Ç–µ–º –∏ —Å–≤—è–∑–µ–π –∑–∞ DAYS –¥–Ω–µ–π (default 7)."
  (interactive "p")
  (let* ((log-files (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--log-recent-files (or days 7)))
         (map (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/–ø–æ—Å—Ç—Ä–æ–∏—Ç—å-–∫–∞—Ä—Ç—É log-files 2))
         (tbl (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/org-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ map)))
    (with-current-buffer (get-buffer-create "*–ö–∞—Ä—Ç–∞ —Ç–µ–º (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏)*")
      (read-only-mode -1) (erase-buffer)
      (insert "#+TITLE: –ö–∞—Ä—Ç–∞ —Ç–µ–º –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–Ω–∏\n\n")
      (insert tbl)
      (org-mode) (goto-char (point-min)) (org-table-align)
      (pop-to-buffer (current-buffer)))))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/ai-–∏–Ω—Å–∞–π—Ç (&optional days)
  "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ AI –∫–∞—Ä—Ç—É —Ç–µ–º –∑–∞ DAYS –¥–Ω–µ–π –¥–ª—è deep-insight."
  (interactive "p")
  (let* ((log-files (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--log-recent-files (or days 7)))
         (map (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/–ø–æ—Å—Ç—Ä–æ–∏—Ç—å-–∫–∞—Ä—Ç—É log-files 2))
         (tbl (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/org-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ map))
         (prompt "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π semantic network –∏ –∫–∞—Ä—Ç—É —Ç–µ–º (org-table). –î–∞–π –∏–Ω—Å–∞–π—Ç: –∫–∞–∫–∏–µ —Ç–µ–º—ã –∏ —Å–≤—è–∑–∏ —Å–µ–π—á–∞—Å –Ω–∞–∏–±–æ–ª–µ–µ –∑–Ω–∞—á–∏–º—ã, –∫–∞–∫–æ–π –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, —á—Ç–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –∏ —É—Ö–æ–¥—è—â–∏–µ —Ç–µ–º—ã."))
    (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ø—Ä–∞–≤–∏—Ç—å-via-gptel
     `(("–ö–∞—Ä—Ç–∞ —Ç–µ–º" . "") ("org-table:" . ,tbl))
     prompt)))

;; –ü—É–Ω–∫—Ç—ã '–ö–∞—Ä—Ç—ã —Ç–µ–º' –∏ 'AI-–∏–Ω—Å–∞–π—Ç' —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é (—Å–º. –Ω–∏–∂–µ).
;; –†–∞—Å—à–∏—Ä—è—Ç—å —Å–ø–∏—Å–æ–∫ –ª–µ–≥–∫–æ ‚Äî –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å –Ω—É–∂–Ω—ã–π –ø—É–Ω–∫—Ç –≤ sections.

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–∏—Å–∫–∞—Ç—å (regexp)
  "–ù–∞–π—Ç–∏ –≤—Å–µ –ª–æ–≥–∏, –≥–¥–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è REGEXP (–∏—Å–∫–∞—Ç—å –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É —Ñ–∞–π–ª–∞)."
  (interactive "s–ü–æ–∏—Å–∫ –≤ –∏—Å—Ç–æ—Ä–∏–∏ (REGEXP): ")
  (let* ((lst (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–ª–æ–≥-—Ñ–∞–π–ª—ã))
         (hits (cl-remove-if-not
                (lambda (cell)
                  (with-temp-buffer
                    (insert-file-contents (cdr cell))
                    (re-search-forward regexp nil t)))
                lst)))
    (if hits
        (let ((choice (completing-read "–ì–¥–µ –Ω–∞–π–¥–µ–Ω–æ: " (mapcar #'car hits) nil t)))
          (find-file (cdr (assoc choice hits)))
          (message "–û—Ç–∫—Ä—ã—Ç: %s" choice))
      (message "–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ \"%s\"." regexp))))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å-–≤-–±—É—Ñ–µ—Ä ()
  "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –ª–æ–≥ –∏—Å—Ç–æ—Ä–∏–∏ (–≤—ã–±–æ—Ä) –≤ kill-ring ‚Äî –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ org –∏–ª–∏ –∑–∞–º–µ—Ç–∫–∏."
  (interactive)
  (let* ((lst (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–ª–æ–≥-—Ñ–∞–π–ª—ã))
         (choice (completing-read "–õ–æ–≥ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: " (mapcar #'car lst) nil t))
         (file (cdr (assoc choice lst))))
    (when (and file (file-exists-p file))
      (with-temp-buffer
        (insert-file-contents file)
        (kill-new (buffer-string)))
      (message "–õ–æ–≥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ kill-ring: %s" choice))))

;;;; == –ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ (–µ–¥–∏–Ω–æ–µ –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π) ==
(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–≤—Å–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-menu-list ()
  "–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ —Å –∏–∫–æ–Ω–∫–∞–º–∏: (label . function).
–í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ AI-—Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ –ø–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (–∫–∞—Ä—Ç–∞, diff –∏ –¥—Ä) —Å –∏—Ö –∏–∫–æ–Ω–∫–∞–º–∏."
  (let* ((main-icons
          '(("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∑–∞-—á–∞—Å"         . "‚≠ê")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∑–∞-–¥–µ–Ω—å"        . "‚≠ê")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≥–∏–∫"            . "‚≠ê")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∫—Ä–∞—Ç–∫–æ"         . "‚≠ê")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Ñ–∏–Ω–∞–Ω—Å—ã"        . "üì∞")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≥–ª—É–±–æ–∫–æ"        . "üß†")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—é–º–æ—Ä"           . "ü§£")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Ç–µ–º—ã-—Ä–∞–¥–∞—Ä–∞"    . "üåê")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≤–æ–ø—Ä–æ—Å—ã-–æ—Ç–≤–µ—Ç—ã" . "‚ùì")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–º–µ–Ω—é-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç" . "üö¶")
            ;; –°–∏—Å—Ç–µ–º–Ω—ã–µ –∏ —Å–ª—É–∂–µ–±–Ω—ã–µ
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–≤—ã–±—Ä–∞—Ç—å"   . "üìú")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–ø–æ—Å–ª–µ–¥–Ω–∏–µ" . "üìú")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/diff"      . "üìä")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–∏—Å–∫–∞—Ç—å"    . "üîé")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å-–≤-–±—É—Ñ–µ—Ä" . "üìã")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/–ø–æ–∫–∞–∑–∞—Ç—å-–∫–∞—Ä—Ç—É"       . "üåê")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/ai-–∏–Ω—Å–∞–π—Ç"            . "üß†")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–ø—Ä–µ–≤—å—é"                     . "‚è±Ô∏è")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å-–¥–∞–π–¥–∂–µ—Å—Ç"        . "‚è±Ô∏è")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–∑–∞–≥—Ä—É–∑–∏—Ç—å-–≤—Å–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏"     . "üß©")
            ("–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/eco-help"                   . "‚ùî")
            ))
         (fixed-menu
          `(
            ("üìú –ò—Å—Ç–æ—Ä–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: –≤—ã–±—Ä–∞—Ç—å –∑–∞–ø–∏—Å—å"    . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–≤—ã–±—Ä–∞—Ç—å)
            ("üìú –ü–æ—Å–ª–µ–¥–Ω–∏–µ N –ª–æ–≥–æ–≤ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–∫–æ–Ω)"   . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–ø–æ—Å–ª–µ–¥–Ω–∏–µ)
            ("üìä –°—Ä–∞–≤–Ω–∏—Ç—å –¥–≤–∞ —Å—Ä–µ–∑–∞ (diff)"            . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/diff)
            ("üîé –ò—Å–∫–∞—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏–∏"                     . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–∏—Å–∫–∞—Ç—å)
            ("üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥ –¥–ª—è –∑–∞–º–µ—Ç–æ–∫"           . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å-–≤-–±—É—Ñ–µ—Ä)
            ("üåê –ö–∞—Ä—Ç–∞ —Ç–µ–º/—Å–≤—è–∑–µ–π (semantic net)"      . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/–ø–æ–∫–∞–∑–∞—Ç—å-–∫–∞—Ä—Ç—É)
            ("üß† AI-–∏–Ω—Å–∞–π—Ç –ø–æ —Ç–µ–º–µ-–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏"      . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/ai-–∏–Ω—Å–∞–π—Ç)
            ("üö¶ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–Ω–æ–≤—ã–µ —Ç–µ–º—ã/—Å–ª–æ–≤–∞)" . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–º–µ–Ω—é-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç)
            ("‚è±Ô∏è –ü—Ä–µ–≤—å—é —Å–≤–µ–∂–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π (echo-area)"   . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–ø—Ä–µ–≤—å—é)
            ("‚è±Ô∏è –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç (kill-ring)"      . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å-–¥–∞–π–¥–∂–µ—Å—Ç)
            ("üß© –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏". –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–∑–∞–≥—Ä—É–∑–∏—Ç—å-–≤—Å–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏)
            ("‚ùî Eco-help / –°–ø—Ä–∞–≤–∫–∞"                   . –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/eco-help)
           ))
         (cmds '()))
    ;; –°—Ü–µ–Ω–∞—Ä–∏–∏ (–∞–≤—Ç–æ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π)
    (mapatoms
     (lambda (sym)
       (when (and (commandp sym)
                  (string-match "\\`–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-" (symbol-name sym)))
         (let* ((name (symbol-name sym))
                (icon (or (cdr (assoc name main-icons)) "üì∞"))
                (doc (or (documentation sym t) "–Ω–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è"))
                (base (replace-regexp-in-string
                       "-" " "
                       (string-remove-prefix "–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-" name)))
                (lbl (format "%s %s ‚Äî %s" icon base (replace-regexp-in-string "\n.*" "" doc))))
           (push (cons lbl sym) cmds))))
     obarray)
    ;; –î–æ–±–∞–≤–ª—è–µ–º —É—Ç–∏–ª–∏—Ç—ã –∏ —Ñ–∏–∫—Å—ã —Å –∏–∫–æ–Ω–∫–∞–º–∏, –µ—Å–ª–∏ –æ–Ω–∏ –µ—â—ë –Ω–µ –≤ —Å–ø–∏—Å–∫–µ
    (dolist (item fixed-menu)
      (let* ((fun (cdr item))
             (p (assoc fun (mapcar (lambda (c) (cons (cdr c) (car c))) cmds))))
        (unless p
          (let* ((name (if (symbolp fun) (symbol-name fun) ""))
                 (icon (or (cdr (assoc name main-icons))
                           (and (string-match "^–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å–≤—è–∑–∏/" name) "üåê")
                           (and (string-match "^–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∏—Å—Ç–æ—Ä–∏—è/" name) "üìú")
                           "üß∞"))
                 (lbl (format "%s %s" icon (car item))))
            (push (cons lbl fun) cmds)))))
    (sort cmds (lambda (a b) (string< (car a) (car b))))))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/eco-help ()
  "–ü–æ–∫–∞–∑–∞—Ç—å –¥–∞–æ—Å—Å–∫—É—é —Å–ø—Ä–∞–≤–∫—É/–º–æ—Ç–∏–≤–∞—Ü–∏—é."
  (interactive)
  (with-help-window "*–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏ Eco Help*"
    (princ
     "==== Emacs –ü—Ä–æ-–ù–æ–≤–æ—Å—Ç–∏: –î–∞–æ –ê–Ω–∞–ª–∏—Ç–∏–∫–∏ ====\n
‚Ä¢ –û–¥–∏–Ω –º–æ–¥—É–ª—å ‚Äî –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫: —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞—Å—Ç—É—Ç —Å–∞–º–∏, –±–µ–∑ —Ö–∞–æ—Å–∞.
‚Ä¢ –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (user-—Ñ–∞–π–ª—ã) ‚Äî –ø–æ—è–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
‚Ä¢ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∏—Å—Ç–æ—Ä–∏–∏, –≥–ª—É–±–æ–∫–∏–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, semantic network, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚Äî –≤—Å—ë —Å—Ä–∞–∑—É.
‚Äî‚Äî‚Äî
üÜò –ë–∏–Ω–¥—ã (–ø—Ä–∏–º–µ—Ä): C-c n u ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–µ–Ω—é: —Å—Ü–µ–Ω–∞—Ä–∏–∏, –∏—Å—Ç–æ—Ä–∏—è, AI-tools, –∞–¥–º–∏–Ω.
‚Äî‚Äî‚Äî
–°–æ–≤–µ—Ç: –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π ...) ‚Äî –æ–Ω —Ç—É—Ç –∂–µ –±—É–¥–µ—Ç –≤ –º–µ–Ω—é.
–ü—É—Å—Ç—å –ù–æ–≤–æ—Å—Ç–Ω–æ–µ –î–∞–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ –≤–∞—Å, –∞ –Ω–µ –ø—Ä–æ—Ç–∏–≤ –≤–∞—Å!
--------------------------------------------------------
¬© –ü.–ö. / –ø—É—Ç—å –î–∞–æ Emacs\n")))


;;;; == –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π ==
;; –ü—É—Ç—å –î–∞–æ: –ø—É—Å—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞—Å—Ç—É—Ç –∫–∞–∫ –±–∞–º–±—É–∫, –∏–∑ —Ç–æ–π –ø–æ—á–≤—ã, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–µ–µ.

(defcustom –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–¥–æ–ø-—Å–∫—Ä–∏–ø—Ç—ã-dir
  (expand-file-name "–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–∏/" user-emacs-directory)
  "–ö–∞—Ç–∞–ª–æ–≥ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.
–í—Å–µ .el —Ñ–∞–π–ª—ã –∏–∑ —ç—Ç–æ–π –ø–∞–ø–∫–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏."
  :type 'directory
  :group '–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏)

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–∑–∞–≥—Ä—É–∑–∏—Ç—å-–≤—Å–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏ ()
  "–ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ `–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–¥–æ–ø-—Å–∫—Ä–∏–ø—Ç—ã-dir`.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å –º–æ–¥ –Ω–æ–≤—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–µ–Ω—è—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª.
–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–∏ (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π ...) ‚Äî –∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–ª–æ–∂–∏—Ç–µ —Ñ–∞–π–ª-—Ñ—É–Ω–∫—Ü–∏—é –≤ —ç—Ç—É –ø–∞–ø–∫—É!"
  (interactive)
  (let ((dir (file-name-as-directory –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–¥–æ–ø-—Å–∫—Ä–∏–ø—Ç—ã-dir)))
    (when (file-directory-p dir)
      (dolist (f (directory-files dir t "\\.el\\'"))
        (load-file f)
        (when –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ª–∞–¥–∫–∞
          (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏] –ó–∞–≥—Ä—É–∂–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π: %s" f))))
    (when –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–æ—Ç–ª–∞–¥–∫–∞
      (message "[–ø—Ä–æ-–Ω–æ–≤–æ—Å—Ç–∏] –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–¥—Ö–≤–∞—á–µ–Ω—ã!"))))

;; –¢–∏–ø–∏—á–Ω—ã–π —Å–ø–æ—Å–æ–±: (add-hook 'emacs-startup-hook #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏/–∑–∞–≥—Ä—É–∑–∏—Ç—å-–≤—Å–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏)
;; –∏–ª–∏ –≤—ã–∑–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏.

;;; –î–∞–æ-—Å–æ–≤–µ—Ç:
;; –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –Ω–∞–ø–∏—à–µ—Ç —Å–µ–±—è —Å–≤–æ–π (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Å—Ü–µ–Ω–∞—Ä–∏–π –∏–º—è ...), –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–≤ —à–∞–±–ª–æ–Ω,
;; –∏ –≤–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –±—É–¥–µ—Ç –º—è–≥–∫–æ —Ä–∞–∑—Ä–∞—Å—Ç–∞—Ç—å—Å—è –ø–æ –º–µ—Ä–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á!

;;;; == –ü–æ–ª–µ–∑–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ==

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å-–¥–∞–π–¥–∂–µ—Å—Ç (&optional —á–∞—Å–æ–≤ –º–∞–∫—Å–∏–º—É–º)
  "–í kill-ring ‚Äî —Å–ø–∏—Å–æ–∫ —Å–≤–µ–∂–∏—Ö –≥–ª–∞–≤–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π —Å–æ —Å—Å—ã–ª–∫–∞–º–∏."
  (interactive)
  (let* ((—á (or —á–∞—Å–æ–≤ 24)) (m (or –º–∞–∫—Å–∏–º—É–º 10))
         (—Å—ã—Ä–æ–π (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–æ–ª—É—á–∏—Ç—å (* 3600 —á)))
         (–∏—Ç–æ–≥ (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–∞–∫–µ—Ç —Å—ã—Ä–æ–π m)))
    (if –∏—Ç–æ–≥
        (progn (kill-new (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--—Ñ–æ—Ä–º–∞—Ç –∏—Ç–æ–≥ t))
               (message "–î–∞–π–¥–∂–µ—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!"))
      (message "–î–∞–Ω–Ω—ã—Ö –Ω–µ—Ç."))))

(defun –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–ø—Ä–µ–≤—å—é (&optional —á–∞—Å–æ–≤ –º–∞–∫—Å–∏–º—É–º)
  "–ü–æ–∫–∞–∑ —Ç–æ–ø-–Ω–æ–≤–æ—Å—Ç–µ–π –≤ echo-area: –±—ã—Å—Ç—Ä–æ –∏ –ª–∞–∫–æ–Ω–∏—á–Ω–æ."
  (interactive)
  (let* ((n (or —á–∞—Å–æ–≤ 6)) (m (or –º–∞–∫—Å–∏–º—É–º 5))
         (—Å—ã—Ä–æ–π (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–æ–ª—É—á–∏—Ç—å (* 3600 n)))
         (–∏—Ç–æ–≥ (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--–ø–∞–∫–µ—Ç —Å—ã—Ä–æ–π m)))
    (if –∏—Ç–æ–≥
        (message "\n%s" (–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏--—Ñ–æ—Ä–º–∞—Ç –∏—Ç–æ–≥))
      (message "–ù–µ—Ç —Å–≤–µ–∂–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π!"))))

;;;; ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
;;;; –ü—Ä–∏–º–µ—Ä—ã –±–∏–Ω–¥–æ–≤ (–≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à)
;;;; ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
;; –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–≤–æ–∏ –ª—é–±–∏–º—ã–µ –±–∏–Ω–¥—ã (–ø—Ä–∏–º–µ—Ä):
;;
;; (global-set-key (kbd "C-c n u") #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≤—ã–±—Ä–∞—Ç—å-–∏-–æ—Ç–ø—Ä–∞–≤–∏—Ç—å)
;; (global-set-key (kbd "C-c n h") #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—é–º–æ—Ä)
;; (global-set-key (kbd "C-c n g") #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≥–∏–∫)
;; (global-set-key (kbd "C-c n f") #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Ñ–∏–Ω–∞–Ω—Å—ã)
;; (global-set-key (kbd "C-c n t") #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-—Ç–µ–º—ã-—Ä–∞–¥–∞—Ä–∞)
;; (global-set-key (kbd "C-c n d") #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∑–∞-–¥–µ–Ω—å)
;; (global-set-key (kbd "C-c n k") #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∫—Ä–∞—Ç–∫–æ)
;; (global-set-key (kbd "C-c n s") #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≥–ª—É–±–æ–∫–æ)
;; (global-set-key (kbd "C-c n q") #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–≤–æ–ø—Ä–æ—Å—ã-–æ—Ç–≤–µ—Ç—ã)
;; (global-set-key (kbd "C-c n c") #'–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å-–¥–∞–π–¥–∂–µ—Å—Ç)
;;
;; –õ—é–±–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∏ —á–µ—Ä–µ–∑ M-x, –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å "–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏-"!

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; üåÖ –î—É–º–∞–π—Ç–µ –≥–∏–±–∫–æ: –ª—é–±—ã–µ –Ω–æ–≤–æ—Å—Ç–Ω—ã–µ –≤—ã–ø—É—Å–∫–∏ –≤—ã –¥–µ–ª–∞–µ—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏.
;;;   –ü–∏—à–∏—Ç–µ –æ–¥–∏–Ω —à–∞–±–ª–æ–Ω (–º–∞–∫—Ä–æ—Å) ‚Äî –∏ –∫–∞–π—Ñ—É–π—Ç–µ –æ—Ç —Å–∫–≤–æ–∑–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏!
;;
;;; ‚Äî –ü.–ö.
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
(provide '–ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏)
;;; –ø—Ä–æ-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–Ω–æ–≤–æ—Å—Ç–∏.el ends here
